syntax = "proto3";

package filemanagerservice;

import "protoc-gen-openapiv2/options/annotations.proto";
import "google/api/annotations.proto";

option go_package = "grpc_service/internal/proto/auck.filemanagerservice1.v1;filemanagerservicev1";

option (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_swagger) = {
  info: {
    title: "Auck FileManagerService"
    version: "1.0"
  }
  schemes: HTTP
  consumes: "application/json"
  produces: "application/json"
  security_definitions: {
    security: {
      key: "Bearer"
      value: {
        type: TYPE_API_KEY
        in: IN_HEADER
        name: "Authorization"
        description: "JWT Authorization header using the Bearer scheme. Example: \"Authorization: Bearer {token}\""
      }
    }
  }
  security: {
    security_requirement: {
      key: "Bearer"
      value: {}
    }
  }
};

service FileManagerService {
  rpc UploadPhoto (UploadPhotoRequest) returns (UploadPhotoResponse){
  }
  rpc GetMediaByUrl (GetMediaByUrlRequest) returns (GetMediaByUrlResponse){

  }
}
message UploadPhotoRequest{
    string type = 1; // photo/video
    bytes data = 2;
}
message UploadPhotoResponse{
    string url = 1;
}

message GetMediaByUrlRequest{
    string url = 1;

}
message GetMediaByUrlResponse{
    bytes data = 1;
}
